<!doctype html>

<html>
  <head>
    <title>glg-avatar</title>
    <script src="../../webcomponentsjs/webcomponents.min.js"></script>
    <link rel="import" href="../glg-current-user.html">

    <link rel="import" href="../../paper-input/paper-input.html">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">

    <style>
      body {
        font-family: Roboto,Noto,'Helvetica Neue',Helvetica,Arial,sans-serif;
        margin: 0 27px;
      }

      paper-input {
        width: 200px;
      }
    </style>

  </head>

  <body>
    <template is="dom-bind">

      <paper-input label="Enter a username" value="{{username}}"></paper-input>

      <glg-current-user username="{{username}}" user="{{user}}">
        <template is="dom-if" if="{{user}}">
          <span>
            Hello <b>{{user.firstName}}</b> from <span>{{user.city}}</span>!
          </span>
        </template>
      </glg-current-user>

    </template>

    <script>
      document.addEventListener('WebComponentsReady', function() {
        document.querySelector("glg-current-user").addEventListener('user-changed', function(event) {
          console.log(event.detail.value);
        })
      });
    </script>
  </body>
</html>
